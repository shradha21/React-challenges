<html>
    <head>
        <title>21-Keep-Count</title>
    </head>
    <body>
        <div id="root"></div>

    <!-- https://unpkg.com/react@16.13.1/umd/react.development.js -->
    <script src="./js/react.development.js"></script>
    <!-- https://unpkg.com/react-dom@16.13.1/umd/react-dom.development.js -->
    <script src="./js/react-dom.development.js"></script>
    <!-- https://unpkg.com/babel-standalone@6.26.0/babel.js -->
    <script src="./js/babel.js"></script>
    <script type="text/babel">

class Count extends React.Component {

      

constructor() {
super()
this.state= {
    count: 0
}
}

handleClickUp = () => {
    this.setState(function(prevState){
        return {
            count: prevState.count+1
        }
    })
}


handleClickReset = () => {
    this.setState({
        count: 0
    })
}

componentDidUpdate() {
    localStorage.setItem('count',JSON.stringify(this.state))
}

componentDidMount() {
    const countValue= localStorage.getItem('count') 
    //console.log(count)
    if(countValue) {
        this.setState(prevState => {
            return JSON.parse(countValue)
        })
    }

}


render() {
    return (
        <div>
            <h1>Count</h1>
            <h2> {this.state.count}  </h2> 
            <button type= "submit" onClick= {this.handleClickUp}>up</button>
            <button type= "submit" onClick= {this.handleClickReset}>reset</button>
        </div>
    )
}
}

ReactDOM.render(<Count />,document.getElementById("root"))

    </script>
    </body>
</html>